{"version":3,"file":"static/js/MovieDetailsPage.43a7de19.chunk.js","mappings":"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","sources":["hooks/useFetchMovie.js","components/Movie/Movie.jsx","components/AdittionalInfo/AdittionalInfo.styled.js","components/AdittionalInfo/AdittionalInfo.jsx","pages/MovieDetailsPage/MovieDetailsPage.jsx","servises/moviesApi.js","servises/notify.js"],"sourcesContent":["import { useState, useEffect } from \"react\"\nimport { fetchMoviesById } from \"servises/moviesApi\"\nimport { notifi } from \"servises/notify\";\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\nexport const useFetchMovie = (id) => {\n    const [movie, setMovie] = useState([])\n    const [status, setStatus] = useState('');\n    useEffect(() => {\n        setStatus(Status.PENDING);\n        async function fetch() {\n            try {\n                const movie = await fetchMoviesById(id);\n                setMovie(movie);\n                setStatus(Status.RESOLVED);\n            }\n            catch (error) {\n                setStatus(Status.REJECTED);\n                console.log(error.message);\n                notifi(error.message);\n            }\n        }\n        fetch();\n    }, [id]);\n\n    return { movie, status };\n};","import PropTypes from 'prop-types';\nimport { FilmContainer, GoBack, Btn, FilmDescription, Poster, Title, SubTitle, Text, GenresList } from \"./Movie.styled\";\nimport image from \"../../Images/noPoster.jpg\"\n\nconst imgBaseUrl = 'https://image.tmdb.org/t/p/w300';\n\nexport const Movie = ({ movie,label, onBackClick }) => {\n    const { title, poster_path, genres, overview, vote_average} = movie;\n    return (\n        <div>\n            <Btn type='button' onClick={onBackClick} >{label? label:\"Go Back\"}<GoBack  /></Btn>\n            <FilmContainer >\n               {poster_path? (<Poster  src={`${imgBaseUrl}${poster_path}`} alt={title} />):(<Poster src={`${image}`} alt='no poster'/>) }\n                    <FilmDescription>\n                        <Title>{title}</Title>\n                        <Text>User score: <b>{vote_average}</b></Text>\n                        <SubTitle>Overview</SubTitle>\n                        {overview!==''?(<Text>{overview}</Text>):(<Text>No overview</Text>)}\n                        <SubTitle>Genres</SubTitle>\n                    {genres ? (genres.map(genre => <GenresList key={genre.id}>{genre.name}</GenresList>)) : (<Text>No genre</Text>)}\n                    </FilmDescription>\n            </FilmContainer >\n        </div>\n    )\n}\n\nMovie.propTypes = {\n    movie: PropTypes.shape({\n        title: PropTypes.string,\n        poster_path: PropTypes.string,\n        genres: PropTypes.array,\n        overview: PropTypes.string,\n        vote_average: PropTypes.number,\n    }).isRequired,\n    onBackClick:PropTypes.func.isRequired,\n}\n","import styled from \"@emotion/styled\";\nimport { NavLink } from \"react-router-dom\"\nexport const Info = styled.div`\nmargin-top: 30px;\npadding: 15px;\nbox-shadow: 0px 0px 17px 0px rgba(255,185,43,0.66);\n`\nexport const Detail = styled(NavLink )`\ndisplay: block;\nfont-size:21px;\nfont-family: 'Permanent Marker', cursive;\nfont-weight:400;\ncolor: #fc7b03;\ntext-decoration:none;\n&:not(:last-child){\n    margin-bottom:10px;\n}\n  &.active {\n    font-size: 25px;\n    color: #ca7628;\n  }\n`\nexport const Title = styled.h2`\nfont-size:35px;\nfont-family: 'Permanent Marker', cursive;\nfont-weight:400;\ncolor: #fc7b03;\ntext-decoration:underline;\nmargin-top:0;\n`","import { Route, Routes } from \"react-router-dom\"\nimport { lazy, Suspense } from 'react';\nimport { Info, Title, Detail } from \"./AdittionalInfo.styled\"\nconst Cast = lazy(() => import('pages/Cast/Cast' /* webpackChunkName: \"Cast\"*/));\nconst Reviews = lazy(() => import('pages/Reviews/Reviews' /* webpackChunkName: \"Reviews\"*/));\nexport const AdittionalInfo = () => {\n    return (\n            <Info>\n                <Title>Adittional information</Title>\n                <Detail to={\"cast\"}>Actors</Detail>\n                <Detail to={\"reviews\"}>Reviews</Detail>\n            <Suspense>\n                <Routes>\n                    <Route path='cast' element={<Cast/>} />\n                    <Route path='reviews' element={<Reviews />} />\n                </Routes>\n            </Suspense>\n\n\n            </Info>\n    )\n}","\nimport { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { useFetchMovie } from \"hooks/useFetchMovie\";\nimport { Loader } from \"components/Loader/Loader\";\nimport { Movie } from \"components/Movie/Movie\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { AdittionalInfo } from \"components/AdittionalInfo/AdittionalInfo\";\nexport default function MovieDetailsPage () {\n    const [btnLabel, setBtnLabel] = useState(\"\");\n    const { slug } = useParams();\n    const movieId = slug.match(/[a-z0-9]+$/)[0];\n    const { movie, status } = useFetchMovie(movieId);\n    const location = useLocation();\n    const navigate = useNavigate();\n    const onBackHandle = () => {\n        location?.state?.from?.location?navigate(location.state.from.location):navigate('/')\n    }\n    useEffect(() => {\n        if (location.state?.from?.label) {\n            setBtnLabel(location.state.from.label)\n        }\n    }, [location.state])\n\n    return (\n     <>\n        {status === 'pending' && <Loader />}\n            {status === 'resolved' &&\n                <>\n                <Movie movie={movie} label={btnLabel} onBackClick={onBackHandle }/>\n                <AdittionalInfo/>\n                </>}\n        {status === 'rejected' && <h2>Sorry can't find this page</h2>}\n    </>  \n    \n\n\n    )\n}","import axios from \"axios\";\n\nexport const fetchMovies = async () => {\n  try {\n    const data = await axios.get(`https://api.themoviedb.org/3/trending/movie/day?api_key=4a5a1e8e9c9af768c9d74bb009ae596f`);\n    return data.data.results\n  } catch (error) {\n   console.log('error', error) \n  }\n}\n\nexport const fetchMoviesById = async (id) => {\n  try {\n    const data = await axios.get(`https://api.themoviedb.org/3/movie/${id}?api_key=4a5a1e8e9c9af768c9d74bb009ae596f`);\n    return data.data\n  } catch (error) {\n    console.log('error', error)\n  }\n}\n\nexport const fetchReviewsById = async (id) => {\n  try {\n    const data = await axios.get(`https://api.themoviedb.org/3/movie/${id}/reviews?api_key=4a5a1e8e9c9af768c9d74bb009ae596f`);\n    return data.data.results\n  } catch (error) {\n    console.log('error', error)    \n  }\n}\nexport const fetchCastsById = async (id) => {\n  try {\n    const data = await axios.get(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=4a5a1e8e9c9af768c9d74bb009ae596f`);\n    return data.data\n  } catch (error) {\n    console.log('error', error)    \n  }\n}\n\nexport const fetchMoviesByQuery = async (query) => {\n  try {\n    const data = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=4a5a1e8e9c9af768c9d74bb009ae596f&query=${query}`);\n    return data.data.results\n  } catch (error) {\n    console.log('error', error)    \n  }\n}\n// https://api.themoviedb.org/3/movie/550?api_key=4a5a1e8e9c9af768c9d74bb009ae596f","import { toast } from 'react-toastify';\nexport const notifi = (text) => toast.error(text, {\n    autoClose: 3000,\n});"],"names":["Status","Movie","movie","label","onBackClick","title","poster_path","genres","overview","vote_average","type","onClick","src","alt","image","map","genre","name","id","Info","styled","Detail","NavLink","Title","Cast","lazy","Reviews","AdittionalInfo","to","Suspense","path","element","MovieDetailsPage","useState","btnLabel","setBtnLabel","setMovie","status","setStatus","useEffect","fetchMoviesById","console","log","message","notifi","fetch","useFetchMovie","useParams","slug","match","location","useLocation","navigate","useNavigate","state","from","Loader","fetchMovies","axios","data","results","fetchReviewsById","fetchCastsById","fetchMoviesByQuery","query","text","toast","autoClose"],"sourceRoot":""}